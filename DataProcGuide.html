<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SELKIELogger: Data Processing Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SELKIELogger
   &#160;<span id="projectnumber">0.9.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DataProcGuide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Data Processing Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_guide_DProc"></a> </p>
<h1><a class="anchor" id="autotoc_md9"></a>
File conversion</h1>
<p>In general, the first step to process recorded data will be to convert the recorded file into a more standard format, generally consisting of a table of values where each row represents a single timestamp and each output value becomes a column. In most circumstances, you will use both the data file (ending with .dat) and the channel mapping file (ending in .var) to convert the data.</p>
<p>The channel mapping file accelerates the conversion process by storing copies of channel mapping messages received from each source, which allows the conversion tools to determine what fields are present in the recorded data. If the channel mapping file is unavailable then this information can be obtained directly from the data file, but as this requires reading the entire data file twice it will be a much slower process.</p>
<p>The recorded data files are a stream of data messages received from the individual sources, broken into chunks with timestamp messages at regular intervals. This is described in more detail in the <a class="el" href="LoggerFiles.html">file formats</a> section. The channel mapping information (either from the .var file or extracted from the data file) is used to create a set of output fields that will form the columns of the output data. Some channels contain data that will generate multiple fields, while other channels map directly to a single field.</p>
<p>The recorded data is then scanned, and the value for each field stored until a new timestamp is encountered. At this point, a new row is output with the timestamp as its index and the last received value output for each field. If no value was received for a particular field since the previous timestamp, a suitable value is output to indicate this - either an empty string for text based fields or an invalid / NaN value for numerical fields.</p>
<p>This conversion can be done using <a class="el" href="SLConvert.html">SLConvert</a> or the graphical interface <a class="el" href="SLConvertGUI.html">SLConvertGUI</a>. A simpler tool exists that can convert to comma separated value (CSV) format only, which is documented at <a class="el" href="group__dat2csv.html">dat2csv</a>. This tool is more limited, but can be used in environments where Python is unavailable.</p>
<p>The graphical interface <a class="el" href="SLConvertGUI.html">SLConvertGUI</a> takes a step-by-step approach to converting data file and is the recommended starting point.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Supported file formats</h2>
<p>The main conversion tools can generate files in the following formats:</p><ul>
<li>Comma separated values (CSV) - the simplest but often largest output format</li>
<li>GZip compressed CSV</li>
<li>Excel compatible spreadsheet in the newer XML format (XLSX)</li>
<li>Matlab compatible workspace (MAT) file</li>
<li>Parquet</li>
</ul>
<p>Each of the formats represents the data in the same way - a series of fields and corresponding timestamps.</p>
<p>In theory, data can be converted to any format supported by the underlying Pandas library if required. See the <a href="https://pandas.pydata.org/docs/user_guide/io.html">pandas documentation</a> for possible options.</p>
<p>The SciPy library is used to convert data to a Matlab compatible format. See the documentation for <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.io.savemat.html#scipy.io.savemat">scipy.io.savemat</a> for compatibility information (at time of writing, MATLAB 7.2+).</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Resampling / Averaging</h2>
<p>One of the options provided in <a class="el" href="SLConvert.html">SLConvert</a> and <a class="el" href="SLConvertGUI.html">SLConvertGUI</a> allows data to be resampled and averaged before output. This is useful for two reasons:</p><ul>
<li>Data can be aligned to a common timing</li>
<li>Output file size can be reduced</li>
</ul>
<p>The data is reduced by grouping into intervals of the desired length (0.1s, 1 second, 1 minute etc.) and a simple mean calculated for each field with any invalid (NaN) data discarded. If a field only contains one value within that interval then the field remains unchanged (although the fields will all be aligned to the interval chosen). No other checks or conversions are carried out, which can lead to misleading values for fields representing angular quantities or similar.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Data Extraction</h1>
<p>One of the features of the logging software is the ability to embed arbitrary data within the recorded files for later extraction. This is used to allow messages that aren't directly understood or usable to be examined later, possibly using existing tools for that data format. As an example this can be used to store the raw data coming from a Datawell buoy for later extraction and analysis with their software, which is more suited to this task than blindly converting data as part of the timeseries outputs described above.</p>
<p>The tools for this process are <a class="el" href="SLExtract.html">SLExtract</a> and the corresponding graphical interface <a class="el" href="SLExtractGUI.html">SLExtractGUI</a>.</p>
<p>In general, you will want to extract channel 3 (the default raw data channel) of a particular source and use the raw output mode. This ensures that no Logger formatting is added to the output file. As this data is arbitrary, the extraction tool does not know what file extension to add to the output and will default to a generic ".dat" extension. Replace this as required or rename the resulting output file to match what your existing software may be expecting. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
