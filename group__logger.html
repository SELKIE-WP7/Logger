<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SELKIELogger: Logger internal functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SELKIELogger
   &#160;<span id="projectnumber">0.9.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__logger.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Logger internal functions<div class="ingroups"><a class="el" href="group__Executables.html">User facing software tools</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Logger internal functions:</div>
<div class="dyncontent">
<div class="center"><img src="group__logger.png" border="0" usemap="#agroup____logger" alt=""/></div>
<map name="agroup____logger" id="agroup____logger">
<area shape="rect" href="group__loggerNMEA.html" title=" " alt="" coords="461,5,627,31"/>
<area shape="rect" href="group__Executables.html" title=" " alt="" coords="5,275,161,315"/>
<area shape="rect" title=" " alt="" coords="209,283,393,308"/>
<area shape="rect" href="group__loggerDW.html" title=" " alt="" coords="441,55,647,95"/>
<area shape="rect" href="group__loggerMP.html" title=" " alt="" coords="462,119,626,159"/>
<area shape="rect" href="group__loggerN2K.html" title=" " alt="" coords="467,184,621,209"/>
<area shape="rect" href="group__loggerGPS.html" title=" " alt="" coords="467,233,621,259"/>
<area shape="rect" href="group__loggerTime.html" title=" " alt="" coords="456,283,632,308"/>
<area shape="rect" href="group__loggerI2C.html" title=" " alt="" coords="469,332,619,357"/>
<area shape="rect" href="group__loggerNet.html" title=" " alt="" coords="453,382,635,422"/>
<area shape="rect" href="group__loggerSerial.html" title=" " alt="" coords="462,446,626,486"/>
<area shape="rect" href="group__loggerLPMS.html" title=" " alt="" coords="466,510,622,550"/>
<area shape="rect" href="group__loggerTriggers.html" title=" " alt="" coords="459,574,629,614"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__loggerDW"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerDW.html">Logger: Datawell WaveBuoy / Receiver support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerGPS"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerGPS.html">Logger: GPS Support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerI2C"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerI2C.html">Logger: I2C Support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerLPMS"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerLPMS.html">Logger: LPMS device support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerMP"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerMP.html">Logger: Native device support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerN2K"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerN2K.html">Logger: N2K Support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerNet"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerNet.html">Logger: Generic network device support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerNMEA"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerNMEA.html">Logger: NMEA Support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerSerial"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerSerial.html">Logger: Generic serial device support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerTriggers"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerTriggers.html">Logger: Global triggers/signal handlers</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__loggerTime"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__loggerTime.html">Logger: Timer functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglobal__opts.html">global_opts</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">General program options.  <a href="structglobal__opts.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdevice__callbacks.html">device_callbacks</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device specific function information.  <a href="structdevice__callbacks.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlog__thread__args__t.html">log_thread_args_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logging thread information.  <a href="structlog__thread__args__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structchannel__stats.html">channel_stats</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel statistics.  <a href="structchannel__stats.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae6c68db3cb4212f7dc741146a0f45efb"><td class="memItemLeft" align="right" valign="top"><a id="gae6c68db3cb4212f7dc741146a0f45efb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gae6c68db3cb4212f7dc741146a0f45efb">DEFAULT_MON_PREFIX</a>&#160;&#160;&#160;&quot;@DEFAULT_MON_PREFIX@&quot;</td></tr>
<tr class="memdesc:gae6c68db3cb4212f7dc741146a0f45efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">If no output file prefix is specified, this will be used as a default. <br /></td></tr>
<tr class="separator:gae6c68db3cb4212f7dc741146a0f45efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7f2ab687d1458debba0daad2578b770"><td class="memItemLeft" align="right" valign="top"><a id="gac7f2ab687d1458debba0daad2578b770"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gac7f2ab687d1458debba0daad2578b770">DEFAULT_STATE_NAME</a>&#160;&#160;&#160;&quot;@DEFAULT_STATE_NAME@&quot;</td></tr>
<tr class="memdesc:gac7f2ab687d1458debba0daad2578b770"><td class="mdescLeft">&#160;</td><td class="mdescRight">If no state file name is specified, this will be used as a default. <br /></td></tr>
<tr class="separator:gac7f2ab687d1458debba0daad2578b770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca4d8329d0747a501c7b609b41a54af0"><td class="memItemLeft" align="right" valign="top"><a id="gaca4d8329d0747a501c7b609b41a54af0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaca4d8329d0747a501c7b609b41a54af0">DEFAULT_MARK_FREQUENCY</a>&#160;&#160;&#160;@DEFAULT_MARK_FREQUENCY@</td></tr>
<tr class="memdesc:gaca4d8329d0747a501c7b609b41a54af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default sample/marker frequency. <br /></td></tr>
<tr class="separator:gaca4d8329d0747a501c7b609b41a54af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ed0340d06c9590c2eba59f6ca5ff0ce"><td class="memItemLeft" align="right" valign="top"><a id="ga6ed0340d06c9590c2eba59f6ca5ff0ce"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga6ed0340d06c9590c2eba59f6ca5ff0ce">DEFAULT_MARK_FREQ_STRING</a>&#160;&#160;&#160;&quot;@DEFAULT_MARK_FREQUENCY@&quot;</td></tr>
<tr class="memdesc:ga6ed0340d06c9590c2eba59f6ca5ff0ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default sample/marker frequency, as a string. <br /></td></tr>
<tr class="separator:ga6ed0340d06c9590c2eba59f6ca5ff0ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44de6c983ce9f431f0b57300df3541fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga44de6c983ce9f431f0b57300df3541fe">SERIAL_SLEEP</a>&#160;&#160;&#160;1E3</td></tr>
<tr class="memdesc:ga44de6c983ce9f431f0b57300df3541fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default serial wait time.  <a href="group__logger.html#ga44de6c983ce9f431f0b57300df3541fe">More...</a><br /></td></tr>
<tr class="separator:ga44de6c983ce9f431f0b57300df3541fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga01b222f27fe91442eb68baec3578b10a"><td class="memItemLeft" align="right" valign="top"><a id="ga01b222f27fe91442eb68baec3578b10a"></a>
typedef void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga01b222f27fe91442eb68baec3578b10a">device_fn</a>) (void *)</td></tr>
<tr class="memdesc:ga01b222f27fe91442eb68baec3578b10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device specific callback functions. <br /></td></tr>
<tr class="separator:ga01b222f27fe91442eb68baec3578b10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad140f707f597c6a83596600b9d51779a"><td class="memItemLeft" align="right" valign="top"><a id="gad140f707f597c6a83596600b9d51779a"></a>
typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gad140f707f597c6a83596600b9d51779a">dc_parser</a>) (<a class="el" href="structlog__thread__args__t.html">log_thread_args_t</a> *, <a class="el" href="structconfig__section.html">config_section</a> *)</td></tr>
<tr class="memdesc:gad140f707f597c6a83596600b9d51779a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data source specific configuration parsers;. <br /></td></tr>
<tr class="separator:gad140f707f597c6a83596600b9d51779a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga86f2c4f8eb39a4b4f4f76f9c9f4fba11"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga86f2c4f8eb39a4b4f4f76f9c9f4fba11">timespec_subtract</a> (struct timespec *result, struct timespec *x, struct timespec *y)</td></tr>
<tr class="memdesc:ga86f2c4f8eb39a4b4f4f76f9c9f4fba11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Difference between timespecs (used for rate keeping)  <a href="group__logger.html#ga86f2c4f8eb39a4b4f4f76f9c9f4fba11">More...</a><br /></td></tr>
<tr class="separator:ga86f2c4f8eb39a4b4f4f76f9c9f4fba11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1da2b5c6babfb5726cee40bb14ec9ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gad1da2b5c6babfb5726cee40bb14ec9ac">log_softwareVersion</a> (<a class="el" href="structmsgqueue.html">msgqueue</a> *q)</td></tr>
<tr class="memdesc:gad1da2b5c6babfb5726cee40bb14ec9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push current software version into message queue.  <a href="group__logger.html#gad1da2b5c6babfb5726cee40bb14ec9ac">More...</a><br /></td></tr>
<tr class="separator:gad1da2b5c6babfb5726cee40bb14ec9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2109d9e614c0e589eff704572fb0bcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gae2109d9e614c0e589eff704572fb0bcb">destroy_global_opts</a> (struct <a class="el" href="structglobal__opts.html">global_opts</a> *go)</td></tr>
<tr class="memdesc:gae2109d9e614c0e589eff704572fb0bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup function for <a class="el" href="structglobal__opts.html" title="General program options.">global_opts</a> struct.  <a href="group__logger.html#gae2109d9e614c0e589eff704572fb0bcb">More...</a><br /></td></tr>
<tr class="separator:gae2109d9e614c0e589eff704572fb0bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa20a3a38bd17bdade74167ba3b00b9df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaa20a3a38bd17bdade74167ba3b00b9df">write_state_file</a> (char *sFName, <a class="el" href="structchannel__stats.html">channel_stats</a> stats[128][128], uint32_t lTS, char *vFName)</td></tr>
<tr class="memdesc:gaa20a3a38bd17bdade74167ba3b00b9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write out the state file.  <a href="group__logger.html#gaa20a3a38bd17bdade74167ba3b00b9df">More...</a><br /></td></tr>
<tr class="separator:gaa20a3a38bd17bdade74167ba3b00b9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga44de6c983ce9f431f0b57300df3541fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44de6c983ce9f431f0b57300df3541fe">&#9670;&nbsp;</a></span>SERIAL_SLEEP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERIAL_SLEEP&#160;&#160;&#160;1E3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default serial wait time. </p>
<p>If no data, the various reader threads usleep() for a period to give sensors/devices time to send more data.</p>
<p>The main logging thread also sleeps when no messages are available, which is also based on this value. </p>

<p class="definition">Definition at line <a class="el" href="Logger_8h_8in_source.html#l00051">51</a> of file <a class="el" href="Logger_8h_8in_source.html">Logger.h.in</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae2109d9e614c0e589eff704572fb0bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2109d9e614c0e589eff704572fb0bcb">&#9670;&nbsp;</a></span>destroy_global_opts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_global_opts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structglobal__opts.html">global_opts</a> *&#160;</td>
          <td class="paramname"><em>go</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup function for <a class="el" href="structglobal__opts.html" title="General program options.">global_opts</a> struct. </p>
<p>The <a class="el" href="structglobal__opts.html" title="General program options.">global_opts</a> structure should be left in a safe state after calling this function, and calling this function repeatedly should not cause an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">go</td><td>Pointer to structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Logger_8c_source.html#l00943">943</a> of file <a class="el" href="Logger_8c_source.html">Logger.c</a>.</p>

</div>
</div>
<a id="gad1da2b5c6babfb5726cee40bb14ec9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1da2b5c6babfb5726cee40bb14ec9ac">&#9670;&nbsp;</a></span>log_softwareVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool log_softwareVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmsgqueue.html">msgqueue</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push current software version into message queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>Log queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="Logger_8c_source.html#l00926">926</a> of file <a class="el" href="Logger_8c_source.html">Logger.c</a>.</p>

</div>
</div>
<a id="ga86f2c4f8eb39a4b4f4f76f9c9f4fba11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86f2c4f8eb39a4b4f4f76f9c9f4fba11">&#9670;&nbsp;</a></span>timespec_subtract()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool timespec_subtract </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Difference between timespecs (used for rate keeping) </p>
<p>Timespec subtraction, modified from the timeval example in the glibc manual</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>X-Y </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>Input X </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>Input Y </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if difference is negative </dd></dl>

<p class="definition">Definition at line <a class="el" href="Logger_8c_source.html#l00900">900</a> of file <a class="el" href="Logger_8c_source.html">Logger.c</a>.</p>

</div>
</div>
<a id="gaa20a3a38bd17bdade74167ba3b00b9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa20a3a38bd17bdade74167ba3b00b9df">&#9670;&nbsp;</a></span>write_state_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool write_state_file </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sFName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structchannel__stats.html">channel_stats</a>&#160;</td>
          <td class="paramname"><em>stats</em>[128][128], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lTS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>vFName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write out the state file. </p>
<p>Truncates and recreates the state file, including last received message statistics, timestamps and path to the channel mapping file currently in use. Any change to this output format also needs to be reflected in <a class="el" href="SLFiles_8py.html">SLFiles.py</a></p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Write to temporary file and atomically move into place</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sFName</td><td>Name and path to state file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stats</td><td>Channel statistics array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lTS</td><td>Last received timestamp </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vFName</td><td>Name and path to current channel mapping file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False if unable to create state file, True otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="Logger_8c_source.html#l00974">974</a> of file <a class="el" href="Logger_8c_source.html">Logger.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
