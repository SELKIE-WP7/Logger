list(APPEND SL_DW_SRC DWTypes.c DWMessages.c)
list(APPEND SL_DW_INC DWTypes.h DWMessages.h)

add_library(SELKIELoggerDW ${SL_DW_SRC})
set_target_properties(SELKIELoggerDW PROPERTIES VERSION ${PROJECT_VERSION})
set_target_properties(SELKIELoggerDW PROPERTIES SONAME 1)

set_target_properties(SELKIELoggerDW PROPERTIES PUBLIC_HEADER SELKIELoggerDW.h)
set_target_properties(SELKIELoggerDW PROPERTIES PRIVATE_HEADER "${SL_DW_INC}")

target_link_libraries(SELKIELoggerDW PUBLIC SELKIELoggerBase)
include(GNUInstallDirs)

target_include_directories(SELKIELoggerDW PUBLIC
	$<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/library>
	$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
	$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger>)
target_include_directories(SELKIELoggerDW PRIVATE
	$<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/library>
	$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
	$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger>)

install(TARGETS SELKIELoggerDW
	EXPORT SLPubLibs
	LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR} COMPONENT DW
	PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger COMPONENT DWDev
	PRIVATE_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger/DW COMPONENT DWDev
	)

set(CPACK_COMPONENT_DW_GROUP "Libraries")
set(CPACK_COMPONENT_DW_DISPLAY_NAME "SELKIE DataWell Library")
set(CPACK_COMPONENT_DWDEV_GROUP "Headers")
set(CPACK_COMPONENT_DWDEV_DISPLAY_NAME "SELKIE DataWell Library - Headers")
set(CPACK_COMPONENT_DWDEV_DEPENDS DW)
