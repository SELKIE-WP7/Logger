list(APPEND SL_LPMS_SRC LPMSTypes.c LPMSConnection.c )
list(APPEND SL_LPMS_INC LPMSTypes.h LPMSConnection.h )

add_library(SELKIELoggerLPMS ${SL_LPMS_SRC})
set_target_properties(SELKIELoggerLPMS PROPERTIES VERSION ${PROJECT_VERSION})
set_target_properties(SELKIELoggerLPMS PROPERTIES SONAME 1)

set_target_properties(SELKIELoggerLPMS PROPERTIES PUBLIC_HEADER SELKIELoggerLPMS.h)
set_target_properties(SELKIELoggerLPMS PROPERTIES PRIVATE_HEADER "${SL_LPMS_INC}")

target_link_libraries(SELKIELoggerLPMS PUBLIC SELKIELoggerBase)

include(GNUInstallDirs)

target_include_directories(SELKIELoggerLPMS PUBLIC
	$<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/library>
	$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
	$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger>)
target_include_directories(SELKIELoggerLPMS PRIVATE
	$<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/library>
	$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
	$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger>)

install(TARGETS SELKIELoggerLPMS
	EXPORT SLPubLibs
	LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR} COMPONENT LPMS
	PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger COMPONENT LPMSDev
	PRIVATE_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/SELKIELogger/LPMS COMPONENT LPMSDev
	)

set(CPACK_COMPONENT_LPMS_GROUP "Libraries")
set(CPACK_COMPONENT_LPMS_DISPLAY_NAME "SELKIE LPMS Library")
set(CPACK_COMPONENT_LPMSDEV_GROUP "Headers")
set(CPACK_COMPONENT_LPMSDEV_DISPLAY_NAME "SELKIE LPMS Library - Headers")
set(CPACK_COMPONENT_LPMSDEV_DEPENDS LPMS)
